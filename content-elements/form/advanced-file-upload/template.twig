{% apply spaceless %}
    {% set formFieldElementId = elementId ?: 'file-input-REEhtN' %}
    {% set formFieldElementPartId = elementPartId ?: 'file-input-part-H72Mnu' %}
    {% set formFieldTextPartId = formTextPartId ?: 'file-input-part-text-T9yfhp' %}
    {% set formFieldErrorRequiredPartId = errorRequiredPartId ?: 'file-input-part-error-required-904DIx' %}
    {% set formFieldErrorInvalidPartId = errorInvalidPartId ?: 'file-input-part-error-invalid-5g1mUc' %}
    {% set formFieldLabelText = (labelText ?: properties.formFieldLabelText) ?: bsi_cx_lorem(3) %}
    {% set formFieldInfoText = (infoText ?: properties.formFieldInfoText) ?: "" %}
    {% set formFieldErrorRequiredText = (errorRequiredText ?: properties.errorRequiredText) ?: 'Bitte füllen Sie dieses Feld aus.' %} {# TODO: make translatable #}
    {% set formFieldErrorInvalidText = (errorInvalidText ?: properties.errorInvalidText) ?: 'Der Wert, den Sie für dieses Feld eingegeben haben, ist ungültig.' %} {# TODO: make translatable #}
    {% set formFieldNumberOfFilesPartId = numberOfFilesPartId ?: 'file-input-part-file-number-T9yfhp' %}

    <div x-data="formField" data-bsi-element="{{ formFieldElementId }}" class="{{ 'bsi-element-' ~ formFieldElementId }} mb-4 bsi-form-element bsi-form-field-element bsi-form-flex-label advanced-file-upload" data-bsi-form-field-fixed-type="">
        <div class="bsi-form-input-element mb-3 bsi-label-floating-element">
            <div class="form-label-and-info-text">
                <label data-bsi-element-part="label-text-f95479ef" for="field" class="form-label">{{ formFieldLabelText }}</label>
                <div tabindex="0" data-bsi-element-part="{{ formFieldTextPartId }}" class="form-text">{{ formFieldInfoText }}</div>
                <i tabindex="0" class="bi bi-info-circle" data-bs-toggle="tooltip" data-bs-custom-class="bsi-tooltip" role="tooltip" aria-label="{{ formFieldInfoText }}"></i>
            </div>
            <div class="input-container">
                <input x-init="initFormFieldInput" x-on:change="validateFileInput" type="file" class="form-control bsi-form-field-input advanced-file-upload-input" id="field" value="" multiple>
            </div>
            <div data-bsi-element-part="{{ formFieldErrorRequiredPartId }}" class="invalid-feedback"> {{ formFieldErrorRequiredText }} </div>
            <div data-bsi-element-part="{{ formFieldErrorInvalidPartId }}" class="d-none logic-validation"> {{ formFieldErrorInvalidText }} </div>
        </div>
        <div class="file-input-container" aria-hidden="true">
            {% for i in 1..30 %}
                <div data-bsi-element-part="hidden-file-input-32ea01d7-{{ i }}" data-bsi-form-field-fixed-type data-bsi-hide-required>
                    <input type="file" id="file-input-{{ i }}" name="file-input-{{ i }}">
                    </input>
                    <label for="file-input-{{ i }}">file input {{ i }}
                    </label>
                </div>
            {% endfor %}
        </div>
    </div>
{% endapply %}