@keyframes pulse {
  0%   { box-shadow: 0 0 0 0 rgba(255,0,0,0.6); }
  70%  { box-shadow: 0 0 0 20px rgba(255,0,0,0); }
  100% { box-shadow: 0 0 0 0 rgba(255,0,0,0); }
}

@keyframes bounce {
  0%,100% { height: 8px; }
  50% { height: 20px; }
}


@mixin styles($id: 'audiorecorder-e89a2a') {
  .bsi-element-#{$id} {
    &.audio-recorder {
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-family: sans-serif;
    
      .recorder-top {
        display: flex;
        align-items: center;
        gap: 10px;

        .record-btn {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          border: none;
          background-color: #25D366;
          color: white;
          font-size: 24px;
          cursor: pointer;
          display: flex;
          justify-content: center;
          align-items: center;

          &.recording {
            background-color: red;
            animation: pulse 1.5s infinite;
          }
        }

        .recording-ui {
          display: flex;
          align-items: center;
          gap: 8px;

          .waveform {
            display: flex;
            gap: 3px;
            align-items: center;
            span {
              width: 4px;
              height: 8px;
              background: #25D366;
              border-radius: 2px;
            }
            &.recording span {
              animation: bounce 1.2s infinite ease-in-out;
            }
            &.recording span:nth-child(2) { animation-delay: 0.2s; }
            &.recording span:nth-child(3) { animation-delay: 0.4s; }
            &.recording span:nth-child(4) { animation-delay: 0.6s; }
            &.recording span:nth-child(5) { animation-delay: 0.8s; }
            &.recording span:nth-child(6) { animation-delay: 1s; }
            &.recording span:nth-child(7) { animation-delay: 1.2s; }
            &.recording span:nth-child(8) { animation-delay: 1.4s; }
            &.recording span:nth-child(9) { animation-delay: 1.6s; }
          }

          .timer {
            font-size: 14px;
            color: #333;
            min-width: 45px;
            text-align: center;
            display: none;
          }
        }
      }

      .audio-wrapper {
        display: flex;
        align-items: flex-start;
        margin-top: 10px;

        .audio-playback {
          display: none;

          &.visible {
            display: block;
            width: 100%;
          }
        }
      }

      .audio-input { display: none; }

      @media screen and (prefers-color-scheme: dark) {
        .recording-ui .timer {
          color: #fff;
        }
      }

      /* @media (max-width: 768px) {
        .audio-playback.visible {
          display: block;
          margin-top: 10px;
        }
      } */
    }
  }
}