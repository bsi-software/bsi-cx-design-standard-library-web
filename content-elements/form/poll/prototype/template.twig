{% apply spaceless %}
{% set pollElementId = elementId ?: 'poll-wni8em' %}
{% set pollElementPartId = elementPartId ?: 'poll-part-diJBU7' %}
{% set pollLeftPartId = leftPartId ?: 'poll-part-left-fw2gb8' %}
{% set pollRightPartId = rightPartId ?: 'poll-part-right-Cz7PuT' %}
{% set pollFormTextPartId = formTextPartId ?: 'poll-part-text-Xi7bOp' %}
{% set pollErrorRequiredPartId = errorRequiredPartId ?: 'poll-part-error-required-lL6aMT' %}
{% set pollLabelText = (labelText ?: properties.pollLabelText) ?: 'Wie wahrscheinlich ist es, dass Sie unser Produkt weiter empfehlen werden?' %}
{# TODO: make translatable #}
{% set pollLabelLeftText = (labelLeftText ?: properties.pollLabelLeftText) ?: 'Unwahrscheinlich' %}
{# TODO: make translatable #}
{% set pollLabelRightText = (labelRightText ?: properties.pollLabelRightText) ?: 'Sehr wahrscheinlich' %}
{# TODO: make translatable #}
{% set pollInfoText = (infoText ?: properties.pollInfoText) ?: "" %}
{% set pollErrorRequiredText = (errorRequiredText ?: properties.errorRequiredText) ?: 'Bitte f√ºllen Sie dieses Feld aus.' %}
{# TODO: make translatable #}
{% set pollDefaultType = (defaultType ?: properties.pollDefaultType) ?: 'poll-nps' %}

<div x-data="formPoll" data-bsi-element="{{ pollElementId }}" class="{{ 'bsi-element-' ~ pollElementId }} mb-4 bsi-form-element bsi-form-radio-element bsi-{{ pollDefaultType }}">
	<fieldset data-bsi-element-part="{{ pollElementPartId }}" data-bsi-form-field-fixed-type>
		<legend class="form-label"><label for="poll-input">{{ pollLabelText }}</label></legend>
		<div data-bsi-element-part="{{ pollFormTextPartId }}" class="form-text">{{ pollInfoText }}</div>
		<input type="number" readonly="readonly" name="poll-input" id="poll-input" min="1" max="10" step="1" value="" required="" class="d-none" />
		<div role="radiogroup" class="bsi-poll-radio-group d-flex flex-wrap">
			{% for value in range(0,10) %}
				<div class="bsi-poll-radio-item">
					<input class="form-check-input" type="radio" id="poll-input-{{ value }}" value="{{ value }}"/>
					<label class="form-check-label" for="poll-input-{{ value }}">
						<i class="bi bi-star"></i><i class="bi bi-star-fill"></i>
						<div class="number-label">{{ value }}</div>
					</label>
				</div>
			{% endfor %}
		</div>
	</fieldset>
	<div class="d-flex justify-content-between mt-1 text-nowrap small nps-description">
		<div data-bsi-element-part="{{ pollLeftPartId }}">{{ pollLabelLeftText }}</div>
		<div data-bsi-element-part="{{ pollRightPartId }}">{{ pollLabelRightText }}</div>
	</div>

	<div data-bsi-element-part="{{ pollErrorRequiredPartId }}" class="invalid-feedback">
		{{ pollErrorRequiredText }}
	</div>
</div>
{% endapply %}
