@use "../../../../styles/properties" as properties;

@mixin formContainerStyling(
    $elementId: "form-container-84c6581f",
    $elementBackgroundColor: properties.$light,  
    $borderColor: properties.$dark, 
    $labelColor: properties.$textColor, 
    $helperTextColor: properties.$textColor, 
    $errorColor: properties.$invalid, 
    $successColor: properties.$valid,
    $buttonSubmitColor: properties.$light,
    $buttonResetColor: properties.$textColor,
    $buttonSubmitBackgroundColor: properties.$primary,
    $buttonResetBackgroundColor: properties.$light,
) {

    .bsi-element-#{$elementId} {
        padding: properties.$spacing0;

        label {
            color: $labelColor;
        }

        input, .visual-checkbox, .visual-radio {
            color: $labelColor;
            outline-color: $borderColor;
            background-color: $elementBackgroundColor;
        }

        .helper-text-container, .helper-text {
            color: $helperTextColor;
        }

        // validation style for normal input fields
        .input-field-with-error-text {
            &:has(input:user-valid) {
                input {
                    outline-color: $successColor;
                }
            }

            &:has(input:user-invalid) {
                input {
                    outline-color: $errorColor;
                }
                .bsi-invalid-feedback {
                    display: flex;
                    color: $errorColor;
                }
            }
        }

        // validation style for checkboxes
        .checkbox-container {
            &:has(input.custom-valid) {
                .visual-checkbox {
                    outline-color: $successColor;
                }
            }

            &:has(input.custom-invalid) {
                .visual-checkbox {
                    outline-color: $errorColor;
                }
                .bsi-invalid-feedback {
                    display: flex;
                    color: $errorColor;
                }
            }
        }

        // validation for radio-buttzon groups
        .radio-group{
            &:has(input:user-valid) {
                input {
                    outline-color: $successColor;
                }
            }

            &:has(input:user-invalid) {
                input {
                    outline-color: $errorColor;
                }
                .bsi-invalid-feedback {
                    display: flex;
                    color: $errorColor;
                }
            }
        }

        // validation style for checkbox groups
        .checkbox-group.custom-valid {
            .visual-checkbox {
                outline-color: $successColor;
            }
        }

        .checkbox-group.custom-invalid {
            .visual-checkbox {
                outline-color: $errorColor;
            }
            .error-and-helper-text-container {
                .bsi-invalid-feedback {
                    display: flex;
                    color: $errorColor;
                }
            }
        }

        // validation style for radio groups
        .radio-button-group {
            &:has(input:user-valid) {
                input {
                    outline-color: $successColor;
                }
            }

            &:has(input:user-invalid) {
                input {
                    outline-color: $errorColor;
                }
                .bsi-invalid-feedback {
                    display: flex;
                    color: $errorColor;
                }
            }
        }

        $spacings: ("0": properties.$spacing0, "100": properties.$spacing100, "200": properties.$spacing200, "300": properties.$spacing300, "400": properties.$spacing400, "500": properties.$spacing500, "600": properties.$spacing600, "700": properties.$spacing700, "800": properties.$spacing800);
        @each $name, $spacing in $spacings {
            // Set space between every form section and buttons in a form
            &.space-between-form-sections-#{$name} {
                form {
                    gap: $spacing;
                    .form-elements-container {
                        gap: $spacing; 
                    }
                }
            }

            // Set space between every form element in a form section.
            &.space-between-form-elements-#{$name} {
                .form-section {
                    gap: $spacing;
                }
            }

            // Set space between elements in a every form field. (e.g. between label, inputfield, helperText etc.)
            &.space-within-form-elements-#{$name} {
                .form-field {
                    gap: $spacing;
                    .input-field-container {
                        gap: $spacing;
                        .input-field-with-error-text {
                            gap: $spacing;
                        }
                    }
                }

                .form-element {
                    gap: $spacing;
                    .checkbox-container, .radio-button-group-container {
                        gap: $spacing;
                    }

                    fieldset {
                        gap: $spacing;
                    }
                }
            }
        }

        $alignments: (start, center, end, space-between);
        @each $alignment in $alignments {
            &.form-button-alignment-#{$alignment} {
                form .form-buttons {
                    justify-content: $alignment;
                }
            }
        }

        $borderRadiuses: ("100": properties.$borderRadius100, "200": properties.$borderRadius200, "300": properties.$borderRadius300, "400": properties.$borderRadius400, "circle": properties.$borderRadiusCircle);
        @each $name, $borderRadius in $borderRadiuses {
            &.border-radius-form-elements-#{$name} {
                input[type=text], input[type=email], input[type=password], input[type=number], input[type=date], input[type=tel], input[type=time], input[type=datetime-local], input[type=checkbox], .visual-checkbox, select, textarea {
                    border-radius: $borderRadius;
                }
            }
        }

        $borderWidths: ("100": properties.$borderWidth100, "200": properties.$borderWidth200, "300": properties.$borderWidth300);
        @each $name, $borderWidth in $borderWidths {
            &.border-width-form-elements-#{$name} {
                input[type=text], input[type=email], input[type=password], input[type=number], input[type=date], input[type=tel], input[type=time], input[type=datetime-local], input[type=checkbox],  .visual-checkbox, input[type=radio], .visual-radio, select, textarea {
                    outline-width: $borderWidth;
                    outline-offset: -$borderWidth;
                }
            }
        }

        $LabelInfoPositions: ("top-bottom", "top-top", "left-bottom");
        @each $labelInfoPosition in $LabelInfoPositions {
            &.bsi-form-label-info-#{$labelInfoPosition} {

            }
        }

        &.bsi-form-label-info-top-bottom {
            form .form-elements-container .form-section .form-element {
                .empty-element {
                    display: contents;
                }
            }
        }

        &.bsi-form-label-info-top-top {
            form .form-elements-container .form-section .form-element {
                .input-field-container {
                    flex-direction: column-reverse;
                }
                .empty-element {
                    display: contents;
                }
            }
        }

        &.bsi-form-label-info-left-bottom {
            form .form-elements-container .form-section .form-element:not(.checkbox-group) {
                display: grid;
                grid-template-columns: 1fr 6fr;

                .form-label {
                    display: block;
                }
            }

            form .form-elements-container .form-section .form-element.checkbox-group {
                fieldset {
                    display: grid;
                    grid-template-columns: 1fr 6fr;

                    .checkbox-group-container .form-element{
                        display: flex;
                    }
                }
                .error-and-helper-text-wrapper {
                    display: grid;
                    grid-template-columns: 1fr 6fr;
                }
            }
        }

        form {
            display: flex;
            flex-direction: column;

            .hiddenElement {
                display: none;
            }

            .form-elements-container {
                display: flex;
                flex-direction: column;

                // style for headlines of the form elements
                legend, .form-label {
                    font-size: 16px;
                    font-style: normal;
                    font-weight: 700;
                    line-height: 150%;
                    letter-spacing: 0;
                }
            }
        
            .form-buttons {
                display: flex;
                gap: properties.$spacing400;
        
                .form-button-submit {
                    background-color: $buttonSubmitBackgroundColor;
                    color: $buttonSubmitColor;
                }
        
                .form-button-reset {
                    background-color: $buttonResetBackgroundColor;
                    color: $buttonResetColor;
                }
                
        
                input[type=reset]:disabled {
                    display: none;
                }
            }
        }
    }
}